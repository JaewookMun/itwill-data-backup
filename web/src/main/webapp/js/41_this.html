<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>JavaScript</title>
	<style type="text/css">
		#displayDiv {
			border: 1px solid red;
		}
	
	
	</style>
</head>
<body>
	<h1>이벤트(Event) - this</h1>
	<hr>
	<p>이벤트 처리 함수에서 이벤트가 발생된 태그(Element 객체)를 표현하기 위한 키워드</p>
	<hr>
	<div id="displayDiv">이벤트 처리</div>
	<ul>
		<li>메뉴-1</li>
		<li>메뉴-2</li>
		<li>메뉴-3</li>
	</ul>
	
	<script type="text/javascript">
			// 클릭이 되면 함수가 발생되도록 처리
		document.getElementById("displayDiv").onclick=function(){
			// alert("태그에서 클릭이벤트가 발생하였습니다.")
			
			// Element 객체의 style 속성 변경 - CSS 스타일 변경
			//document.getElementById("displayDiv").style="color: green;"
			this.style="color: green;"
				// 이벤트 처리함수에서도 this를 많이 사용한다.
		}	
			
		var liList=document.getElementsByTagName("li");

		/*
		liList.item(0).onclick=function(){
			// liList.item(0).style="color: orange";
			this.style="color: orange";
		};
		
		liList.item(1).onclick=function(){
			// liList.item(1).style="color: orange";
			this.style="color: orange";
		};
		
		liList.item(2).onclick=function(){
			// liList.item(2).style="color: orange";
			this.style="color: orange";
		};
		*/
		
		for(i=0; i<liList.length; i++){
			liList.item(i).onclick=function(){
				// 이벤트 처리 함수의 명령은 이벤트가 발생된 후 호출되어 실행
				// => 반복문 종료 후 이벤트 발생 시 이벤트 처리 함수 호출
				// => 이벤트 처리 함수에서의 Element 객체가 존재하지 않아 에러 발생
					// i는 반복문이 끝난다음의 i를 의미(3) - 3번째 요소는 없음(Null)
				// liList.item(i).style="color: orange"; // liList.item(3) >> null
				this.style="color: orange";
					// this는 i와 상관없이 이벤트를 발생시킨 엘리먼트를 의미
					// 반복문안에 이벤트 처리함수를 등록할 때 문제가 생길 수 있음.
			};
		}
			// 이벤트를 발생시키는 엘리먼트와 이벤트 처리 엘리먼트가 같다면 this 를 사용.
		
		
	</script>
</body>
</html>